<p class="is-size-4 mb-3">レビューを書く</p>

<% if review.errors.any? %>
  <div class="notification is-danger">
    <h2><%= review.errors.count %>件のエラーがあります。</h2>
    <ul>
      <% review.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="rating-box mt-3">
  <%= form_with model: review, url: cafe_reviews_path(cafe), local: true do |f| %>
    <div class="main-rating">
      <div class="ratings mb-3">
        <div class="span fa fa-star-o" id="star"></div>
        <div class="span fa fa-star-o" id="star"></div>
        <div class="span fa fa-star-o" id="star"></div>
        <div class="span fa fa-star-o" id="star"></div>
        <div class="span fa fa-star-o" id="star"></div>
      </div>
      <div class="ml-3 rating-value-display"><span id="rating-value-display">0</span>/5</div>
    </div>
    <%= f.hidden_field :cafe_id, value: cafe.id %>
    <%= f.hidden_field :score, id: "rating-value" %>
    <%= f.text_field :content, class:'textarea' %>
    <%= f.submit '保存', class:'button mt-3' %>
    <%= link_to '他のレビューを見る', cafe_reviews_path(cafe), class: 'button light ml-3 mt-3' %>
  <% end %>
</div>

<%= javascript_include_tag "reviews.js" %>